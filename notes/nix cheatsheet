
Enter REPL:
```sh
nix repl
```

Find package:
```sh
nix-env -qaP [package-name]
```
or, faster:
```sh
nix-env -f '<nixpkgs>' -qaP -A [package-name]
```

Start shell with specific package installed:
```sh
nix-shell -p kubectl kubernetes-helm socat jq
```

System upgrade:
```sh
nixos-rebuild switch --upgrade
```

List files installed by package:
```sh
tree $(dirname $(dirname $(readlink -f $(which vim))))
```
Slightly more generally (from https://nixos.wiki/wiki/Cheatsheet ):
```sh
$ readlink -f $(which vim)
 /nix/store/ji06y4haijly0i0knmr986l2dajffv1p-emacs-24.4/bin/emacs-24.4
```
then
```sh
du -a /nix/store/ji06y4haijly0i0knmr986l2dajffv1p-emacs-24.4
```

Temporarily install package
```sh
nix-env -iA nixos.sxiv
# when finished
nix-env -e sxiv # don't know why this needs to be unqualified
```

Get hash of input from URL:
```sh
nix-prefetch-url mirror://pypi/g/grpclib/grpclib-0.3.1.tar.gz
```
